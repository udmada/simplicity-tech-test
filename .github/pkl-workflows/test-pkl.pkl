amends "package://pkg.pkl-lang.org/github.com/stefma/pkl-gha/com.github.action@0.0.5#/Workflow.pkl"

name = "Test Pkl Templates"

on {
  push {}
  pull_request {}
}

jobs {
  ["test-pkl"] {
    `runs-on` = new UbuntuLatest {}
    steps {
      new {
        name = "Checkout code"
        uses = "actions/checkout@v4"
      }
      new {
        name = "Install mise"
        uses = "jdx/mise-action@v2"
      }
      new {
        name = "Test pkl templates"
        run = "pkl test .github/pkl-workflows/"
      }
    }
  }
}
